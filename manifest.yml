app:
  runtime:
    name: nodejs22.x
    memoryMB: 256
    architecture: arm64
  id: ari:cloud:ecosystem::app/b6bf3657-5548-4b16-87f7-22af6aed136b

modules:
  jira:customFieldType:
    - key: template-selector-field
      name: Template-v2
      description: Pick a template to prefill fields
      type: string
      view:
        render: native
        resource: main
        experience:
          - issue-view
          - portal-view
      edit:
        resource: edit
        render: native
        isInline: true
        experience:
          - issue-create
          - issue-transition
          - issue-view
          - portal-request

function:
  - key: applyTemplate
    handler: src/resolvers/applyTemplate.handler
  - key: getTemplates
    handler: src/resolvers/getTemplates.handler

resources:
  - key: main
    path: src/frontend/index.jsx
  - key: edit
    path: src/frontend/TemplateSelector.jsx
  - key: applyTemplate
    path: src/resolvers/applyTemplate.js
  - key: getTemplates
    path: src/resolvers/getTemplates.js

permissions:
  scopes:
    - read:jira-user
    - read:jira-work
    - write:jira-work
    - read:project:jira
    - read:issue-type:jira
    - read:app-data:jira
    - write:app-data:jira
    - storage:app
    - manage:jira-configuration
