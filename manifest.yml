app:
  runtime:
    name: nodejs22.x
    memoryMB: 256
    architecture: arm64
  id: ari:cloud:ecosystem::app/b6bf3657-5548-4b16-87f7-22af6aed136b

modules:
  jira:uiModifications:
    - key: tmpl-create-uim
      title: Template prefill
      resource: uim
      render: native
      trigger:
        - event: VIEW_CREATED
      view:
        - GIC

  jira:customFieldType:
    - key: template-selector-field
      name: Template
      description: Pick a template to prefill fields
      type: string
      view:
        render: native
        resource: main
      edit:
        resource: edit
        render: native
        isInline: true

resources:
  - key: main
    path: src/frontend/index.jsx
  - key: edit
    path: src/frontend/TemplateSelector.jsx
  - key: uim
    path: src/uim/index.js

permissions:
  scopes:
    - read:jira-user
    - read:jira-work
    - write:jira-work
    - read:project:jira
    - read:issue-type:jira
    - read:app-data:jira
    - write:app-data:jira
    - storage:app
    - manage:jira-configuration